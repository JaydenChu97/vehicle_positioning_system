# vehicle_positioning_system 

## **实现目标:**
 - 构建一个zigbee+GPS定位系统, 提供可视化操作环境(车载嵌入式平台+web平台), 并根据车辆行驶环境进行优化和添加必要特性.
 - 扩展定位系统的功能, 使车辆间能够传递全部的状态信息, 即需要与车辆内部传感网相连, 并将采集的数据上传到公网上的服务器.
 - 挖掘所能得到的数据的价值, 利用机器学习方法分析车辆运动特征, 以做出事故预判和最优路径规划等.
     
## **执行步骤:** 
 1. [x] 建立GPS与zigbee之间的数据通路, 解析GPS协议数据并提取出必要信息, 搭建zigbee数据存储的基本架构, 向上位机提供必要调试信息.
 2. [x] 构建zigbee自组网, 设定自组网各项参数, 确定传递数据包的格式和处理方式.
 3. [x] 编写图形化界面调试软件, 处理各个zigbee结点的状态信息, 再以合适的方式展现出来, 以仿真实际车辆行驶时的系统运行状况.
 4. [x] 通过zigbee网关将zigbee子网和以太网相连, 调整网关以使其能将接收到的数据打包成合适的格式上传至服务器.
 5. [x] 搭建服务器环境, 配置数据库, 编写基本的web网页, 处理数据库中的数据并可视化.
 6. [ ] 机器学习???
  
## **网络架构:**
### 功能安排
 - 路边等密度铺设辅助节点, 每一段路程中选取一个辅助节点结点负责组建网络即作为协调器,  其余结点则始终作为路由结点工作.
 - 车上安装终端结点, 负责发送和接受GPS及其它传感器数据.
 - 协调器同时充当网关角色, 将自身子网数据定期发送到服务器, 并且从服务器接受其它子网发来的数据并将其广播.

### 拓扑结构
 - 以路边的协调器为中心构建树状网络, 不同协调器组建的网络通过以太网互联.
 - 相邻的网络(中心的协调器物理距离在一定范围内)应在逻辑上保持相连, 即相互传递子网内的数据.
 
### 参数设定
 - 按照zigbee-pro协议栈默认设定的标准, 网络最大深度为5层, 每层最多6个路由, 每层最多总设备为20个.
 - 在未进行功率放大的情况下, zigbee的传输距离为30-70米.
 - 目前调试状态采用1个协调器(网关), 2路由器, 3个终端.
 
 ### 逻辑示意图
 ![网络逻辑图](https://github.com/Sin1997/vehicle_positioning_system/raw/master/本创网络构建(初版).png)
